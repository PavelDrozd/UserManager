# UserManager

### Инструкция по развёртыванию и запуску приложения:
- Приложение разработано на Java 8, Spring Boot 2.7.10, MySQL 8.0.32, Gradle, Docker
- Для развёртывания приложения необходимо будет использовать Gradle и Docker
- Распакуйте из архива папку с приложением (usermanager)
- Используя консоль перейдите в корневую папку приложения usermanager
- Прописать в консоли: gradle build 
  Подождать покуда приложение скомпилируется, потому что для запуска в Docker конейнер необходим .jar файл проекта для запуска.
- Далее прописать в консоли в корневой папке приложения: docker-compose up
  Подождать покуда создаются контейнеры базы данных и приложения и дальше уже можно отправлять запросы на сервер.

### Также приложение можно запустить альтернативными способами:
1.
- Запустить базу данных отдельно в Docker контейнере командой в корневой папке приложения: docker-compose up mysql
- Дождаться развёртывания базы данных
- Изменить поле spring.datasource.url в файле src/main/resources/application.yml на: jdbc:mysql://${MYSQL_HOST:localhost}:3306/usermanager
- Зайдя в IDE запустить src/main/java/com/neaktor/usermanager/UserManagerApplication.java
2.
- Самостоятельно развернуть базу данных создав только базу данных с названием usermanager на порту 3306
(опционально можно воспользоваться схемой schema.sql и data.sql в docker/mysql папке приложения, но приложение может самостоятельно создать базу данных)
- Изменить поле spring.datasource.url в файле src/main/resources/application.yml на: jdbc:mysql://${MYSQL_HOST:localhost}:3306/usermanager
- Зайдя в IDE запустить src/main/java/com/neaktor/usermanager/UserManagerApplication.java




### Отправка запросов на сервер:
- Приложение работает на порту 80, MySQL порт 3306

- В приложении присутствует два способа регистрации пользователей(я сделал сначала через загрузку файлов и потом увидел что надо загружать URI картинки и сделал его также отдельно):
1. Регистрация пользователей по запросу: localhost:80/users/create переводит на страницу регистрации пользователя где необходимо ввести имя пользователя, уникальный email, URI картинки.
    Успешным результатом будет переход на страницу только что созданного пользователя со всеми введёнными при регистрации параметрами.
2. Регистрация пользователей по запросу: localhost:80/users/register переводит на страницу регистрации пользователя где необходимо ввести имя пользователя, уникальный email, а также загрузить картинки из локального диска(опционально).
    Успешным результатом будет переход на страницу только что созданного пользователя со всеми введёнными при регистрации параметрами, а также отобразить картинки которые были загружены с локального диска, если таковых не было, то просто отобразит имя пользователя и его email.

- Получение информации о пользователе реализовано по запросу: localhost:80/users/{id} 
  вместо {id} нужно ввести ID пользователя о котором хотите посмотреть информацию.
    (ПРИ ПЕРВОНАЧАЛЬНОМ ЗАПУСКЕ В БАЗЕ ДАННЫХ ОТСУТСТВУЕТ ИНФОРМАЦИЯ О ПОЛЬЗОВАТЕЛЯХ, ДЛЯ ТЕСТОВЫХ ДАННЫХ МОЖНО ВНЕСТИ ИХ САМОСТОЯТЕЛЬНО ЧЕРЕЗ SQL СКРИПТЫ УЖЕ ЗАЛОЖЕННЫЕ В ПРИЛОЖЕНИИ)
    Успешным результатом будет переход на страницу пользователя с отображением его имени пользователя, email, а также картинок если они присутствуют.

- Изменение статуса пользователя реализовано запросом: localhost:80/users/edit/{id}/{status} 
  вместо {id} внести ID пользователя у которого хотим изменить статус, 
  вместо {status} внести необходимый статус пользователя ONLINE либо OFFLINE, использование заглавных букв не обязательно.
    Успешным результатом будет переход на основную страницу где будет написано сообщение об успешном изменении статуса online/offline у пользователя с ID: (id).
